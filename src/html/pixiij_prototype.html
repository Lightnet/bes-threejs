<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
	<head>
		<title> threejs pixiijs game </title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<script type="text/javascript" src="/socket.io/socket.io.js"></script>
		<link rel="stylesheet" href="/css/bootstrap.min.css" >
		<script type="text/javascript" src="/js/jquery.min.js"></script>
		<script type="text/javascript" src="/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="/js/three.min.js"></script>
		<script type="text/javascript" src="/js/threejsbes6.js"></script>
		<script type="text/javascript" src="/js/pixi.min.js"></script>
		<style>
			html, body {
				margin: 0px;
				height: 100%;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<div id="container"></div>
		<script>
			var renderer = PIXI.autoDetectRenderer(80, 60,{backgroundColor : 0x1099bb},false);
			document.body.appendChild(renderer.view);

			// create the root of the scene graph
			var stage = new PIXI.Container();

			var sprite = PIXI.Sprite.fromImage('/assets/bunny.png');

			sprite.position.set(0,0);
			sprite.interactive = true;
			sprite.on('mousedown', onDown);
			sprite.on('touchstart', onDown);

			stage.addChild(sprite);

			function onDown (eventData) {

			    sprite.scale.x += 0.3;
			    sprite.scale.y += 0.3;
			}
			// start animating
			animate();

			function animate() {

			    requestAnimationFrame(animate);
				//console.log("render?");

			    // render the root container
			    renderer.render(stage);
			}

			/*
			var threejsapi;
			var game = new Threejs_game({onload:true,bupdateobjects:true});
			*/
		</script>
	</body>
</html>
